// Ceci est un commentaire, ils commencent tous par //
// Le CSML ignore les commentaires, ils sont utiles pour les dÃ©veloppeurs :3

// Un chatbot commence toujours par l'Ã©tape "start" ci-dessous
start:
	say "Salut je suis ton assistant de recherche netflix !"
  // Une fois qu'on a dit bonjour Ã  l'utilisateur, on va lui demande ce qu'il veut voire
  // direction l'Ã©tape "what_type", on utilise "goto" pour se dÃ©placer entre les Ã©tapes
	goto what_type

what_type:
  // On pose une question et on ajoute trois boutons
	say Question("Qu'est-ce que tu recherches ?",
	buttons=[
    // Vous remarquerez qu'on utilise le mot clÃ© "as", il permet au csml de se souvenir de ce bouton
    // pour s'en servir plus tard (dans le if)
		Button("Un film ğŸ¬") as btnmovie,
		Button("Une sÃ©rie ğŸ‘®â€â™‚ï¸") as btnserie,
		Button("J'aime tout ğŸ˜") as btnany
		])
  // "hold" indique au chatbot qu'il doit attendre une rÃ©ponse de l'utilisateur (une phrase ou un click)
	hold
  // La rÃ©ponse de l'utilisateur va arriver dans la variable "event"
  // Dans le cas prÃ©sent on va voir ce que contient cette variable en demandant au csml si event "match" le bouton film
	if (event match btnmovie) {
    // Si l'utilisateur a cliquÃ© sur le bouton film, on va demander au csml de se souvenir du mot "movie"
    // Nous nous en servirons plus tard ;)
		remember movie_type = "movie"
	}
	else if (event match btnserie) {
		remember movie_type = "serie"
	} else {
    remember movie_type = "any"
  }
	say "Je me rappellerai de : {{movie_type}}"
  goto end